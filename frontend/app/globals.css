@import "tailwindcss";
@import "tw-animate-css";
@import "./utilities.css";

@custom-variant dark (&:is(.dark *));

/* -----------------------------
   Vultr Brand Design Tokens
   Source: Vultr Brand Book (colors pp.13–16, type pp.18–22)
   ----------------------------- */
@theme {
  /* Brand colors — Core */
  --color-vultr-navy: oklch(0.18 0.09 264);
  --color-vultr-blue: oklch(0.55 0.19 246);
  --color-vultr-light-blue: oklch(0.72 0.13 233);
  --color-vultr-sky-blue: oklch(0.93 0.08 221);

  /* Brand colors — Secondary */
  --color-vultr-midnight: oklch(0.21 0.08 264);
  --color-vultr-blue-20: oklch(0.26 0.09 264);
  --color-vultr-cobalt: oklch(0.28 0.13 269);
  --color-vultr-blue-60: oklch(0.42 0.15 263);

  /* Neutrals */
  --color-warm-1: oklch(0.97 0 0);
  --color-warm-2: oklch(0.83 0 0);
  --color-warm-3: oklch(0.33 0 0);
  --color-warm-4: oklch(0.25 0 0);
  --color-cool-1: oklch(0.92 0.01 240);
  --color-cool-2: oklch(0.70 0.01 240);

  /* Typography */
  --font-sans: "Roboto", ui-sans-serif, system-ui, -apple-system, "Segoe UI", Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji";
  --text-display-1: 4rem;
  --leading-display-1: 1.2;
  --text-display-2: 2.5rem;
  --leading-display-2: 1.2;
  --text-body-lg: 1.25rem;
  --leading-body-lg: 1.2;
  --text-cta: 1rem;
  --leading-cta: 1.2;

  /* Shape & elevation */
  --radius-card: 1rem;
  --shadow-soft: 0 10px 25px 0 rgb(0 0 0 / 0.1);
  --spacing-section: 6rem;

  /* Compatibility aliases */
  --color-background: var(--color-warm-1);
  --color-foreground: var(--color-vultr-navy);
  --color-card: oklch(1 0 0);
  --color-card-foreground: var(--color-vultr-navy);
  --color-popover: oklch(1 0 0);
  --color-popover-foreground: var(--color-vultr-navy);
  --color-primary: var(--color-vultr-blue);
  --color-primary-foreground: oklch(1 0 0);
  --color-secondary: var(--color-vultr-light-blue);
  --color-secondary-foreground: var(--color-vultr-navy);
  --color-muted: var(--color-cool-1);
  --color-muted-foreground: var(--color-vultr-blue-20);
  --color-accent: var(--color-vultr-sky-blue);
  --color-accent-foreground: var(--color-vultr-blue);
  --color-destructive: oklch(0.58 0.20 27);
  --color-destructive-foreground: oklch(1 0 0);
  --color-border: var(--color-cool-2);
  --color-input: var(--color-cool-1);
  --color-ring: var(--color-vultr-light-blue);
  --color-chart-1: var(--color-vultr-blue);
  --color-chart-2: var(--color-vultr-light-blue);
  --color-chart-3: var(--color-vultr-blue-20);
  --color-chart-4: var(--color-vultr-cobalt);
  --color-chart-5: var(--color-vultr-blue-60);
  --radius: var(--radius-card);
  --radius-sm: calc(var(--radius) - 4px);
  --radius-md: calc(var(--radius) - 2px);
  --radius-lg: var(--radius);
  --radius-xl: calc(var(--radius) + 4px);
}

/* -----------------------------
   Base layer: font, color-scheme, default text colors
   ----------------------------- */
@layer base {
  :root {
    color-scheme: light dark;
    background-color: var(--color-background);
  }

  .dark {
    color-scheme: dark;
    --color-background: var(--color-vultr-midnight);
    --color-foreground: oklch(1 0 0);
    --color-card: oklch(0.17 0.08 264 / 0.75);
    --color-card-foreground: oklch(1 0 0);
    --color-popover: oklch(0.17 0.08 264 / 0.95);
    --color-popover-foreground: oklch(1 0 0);
    --color-muted: oklch(1 0 0 / 0.08);
    --color-muted-foreground: oklch(1 0 0 / 0.7);
    --color-accent-foreground: oklch(1 0 0);
    --color-border: oklch(0.93 0.08 221 / 0.4);
    --color-input: oklch(0.38 0.08 264 / 0.65);
  }

  body {
    background-color: var(--color-background);
    color: var(--color-foreground);
    font-family: var(--font-sans);
    font-size: var(--text-body-lg);
    line-height: var(--leading-body-lg);
    min-height: 100%;
    @apply antialiased;
  }

  h1 {
    @apply text-display-1 leading-display-1 font-light;
  }

  h2 {
    @apply text-display-2 leading-display-2 font-light;
  }

  p {
    @apply text-body-lg leading-body-lg font-light;
  }

  a {
    @apply text-vultr-blue underline underline-offset-4 decoration-from-font;
  }

  a:focus-visible {
    @apply outline-none ring-2 ring-offset-2 ring-vultr-light-blue;
  }
}

/* -----------------------------
   Reusable brand utilities & components
   ----------------------------- */
@layer utilities {
  .icon {
    @apply inline-block align-middle;
    width: 1.5rem;
    height: 1.5rem;
  }

  .icon-sm {
    width: 1.125rem;
    height: 1.125rem;
  }

  .icon-lg {
    width: 2rem;
    height: 2rem;
  }

  .icon-xl {
    width: 2.5rem;
    height: 2.5rem;
  }

  .logo-min {
    min-width: 40px;
    min-height: 40px;
  }

  .bg-hero-vultr {
    background:
      radial-gradient(1200px 600px at 85% 15%, color-mix(in oklab, var(--color-vultr-light-blue) 40%, transparent), transparent 60%),
      linear-gradient(180deg, var(--color-vultr-navy), var(--color-vultr-blue));
  }

  .surface-dark {
    @apply bg-vultr-midnight text-white;
  }

  .surface-light {
    @apply bg-white text-vultr-navy;
  }
}

@layer components {
  .btn {
    @apply inline-flex items-center gap-2 rounded-[var(--radius-card)] px-5 py-3 text-cta leading-cta font-semibold transition;
    @apply focus:outline-none focus:ring-2 focus:ring-vultr-light-blue focus:ring-offset-2;
  }

  .btn-primary {
    @apply bg-vultr-blue text-white hover:brightness-95 active:brightness-90;
  }

  .btn-outline {
    @apply border border-vultr-blue text-vultr-blue hover:bg-vultr-blue hover:text-white;
  }

  .btn-ghost {
    @apply text-vultr-blue hover:bg-vultr-sky-blue/40;
  }

  .card {
    @apply rounded-[var(--radius-card)] shadow-[var(--shadow-soft)] overflow-hidden bg-white text-vultr-navy;
  }

  .card-dark {
    @apply rounded-[var(--radius-card)] shadow-[var(--shadow-soft)] overflow-hidden bg-vultr-midnight text-white;
  }

  .input,
  .select,
  .textarea {
    @apply w-full rounded-[calc(var(--radius-card)-.25rem)] border border-cool-2/60 bg-white px-4 py-2 text-body-lg;
    @apply placeholder:text-cool-2 focus:outline-none focus:ring-2 focus:ring-vultr-light-blue focus:border-vultr-light-blue;
  }

  .badge {
    @apply inline-flex items-center rounded-full px-3 py-1 text-[0.875rem] font-normal;
  }

  .badge-brand {
    @apply bg-vultr-sky-blue text-vultr-blue;
  }

  .badge-neutral {
    @apply bg-cool-1 text-vultr-navy;
  }
}